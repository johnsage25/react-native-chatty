{"version":3,"sources":["ChatBubble.tsx"],"names":["dayjs","React","useCallback","useContext","useEffect","useMemo","useState","Dimensions","Image","ImageBackground","InteractionManager","StyleSheet","Text","TouchableOpacity","View","PropsContext","ReplyingTo","UrlPreviewBubble","MediaType","MessageStatus","ChatEmitter","extractUrlFromString","fetchMetaData","Skeleton","ALL_PATERNS_SHAPES","HASHTAG_PATTERN_SHAPE","LoadAllPaternShapes","loadParsedText","MENTION_PATTERN_SHAPE","URL_PATTERN_SHAPE","PhotoView","ContextMenuWrapper","ParsedText","_ChatBubble","props","message","children","propsContext","mediaLoaded","setMediaLoaded","showMedia","setShowMedia","showUrlPreview","setShowUrlPreview","urlPreviewData","setUrlPreviewData","createdAt","format","avatarSize","width","bubbleProps","showAvatars","height","borderRadius","bubbleBackgroundColor","containerStyle","me","backgroundColor","selfBubbleColor","otherBubbleColor","bubbleAlignment","alignSelf","media","forEach","type","runAfterInteractions","prefetch","uri","then","enableUrlPreviews","url","text","data","onPressPattern","pattern","index","emit","messagePatterns","patterns","enablePatterns","patternProps","customPatterns","push","allowPatterns","renderTicks","status","Sending","tickProps","sendingElement","Sent","sentElement","Delivered","deliveredElement","Read","readElement","renderFooter","styles","bubbleFooter","date","dateStyle","renderCornerRounding","enableCornerRounding","rightArrow","rightArrowOverlap","listProps","leftArrow","leftArrowOverlap","renderMedia","flexDirection","flexWrap","map","length","backgroundOverlay","color","textAlign","fontSize","renderUrlPreview","repliedTo","marginTop","title","description","image","wrapper","trailingAccessory","visible","user","avatar","require","container","padding","username","id","labelStyle","avatarMe","ChatBubble","memo","create","alignItems","justifyContent","margin","maxWidth","get","position","bottom","borderBottomLeftRadius","right","borderBottomRightRadius","left","marginLeft","marginRight","moreMedia","borderWidth","borderStyle","borderColor","marginBottom","alignContent"],"mappings":"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","sourcesContent":["import dayjs from 'dayjs';\nimport React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport {\n  Dimensions,\n  Image,\n  ImageBackground,\n  InteractionManager,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n  ViewStyle,\n} from 'react-native';\nimport { PropsContext } from './Chatty';\nimport { ReplyingTo } from './components/ReplyingTo';\nimport { UrlPreviewBubble } from './components/UrlPreviewBubble';\nimport {\n  IChatBubble,\n  IMessage,\n  IUrlPreviewBubble,\n  MediaType,\n  MessageStatus,\n} from './types/Chatty.types';\nimport { ChatEmitter } from './utils/eventEmitter';\nimport { extractUrlFromString, fetchMetaData } from './utils/helpers';\nimport { Skeleton } from './utils/moti';\nimport {\n  ALL_PATERNS_SHAPES,\n  HASHTAG_PATTERN_SHAPE,\n  LoadAllPaternShapes,\n  loadParsedText,\n  MENTION_PATTERN_SHAPE,\n  URL_PATTERN_SHAPE,\n} from './utils/patterns';\nimport { PhotoView } from './utils/photoView';\nimport { ContextMenuWrapper } from './wrappers/ContextMenuWrapper';\n\nconst ParsedText = loadParsedText();\n\nfunction _ChatBubble(props: IChatBubble) {\n  const { message, children } = props;\n  const propsContext = useContext(PropsContext);\n  const [mediaLoaded, setMediaLoaded] = useState<boolean>(false);\n  const [showMedia, setShowMedia] = useState<boolean>(false);\n  const [showUrlPreview, setShowUrlPreview] = useState(false);\n  const [urlPreviewData, setUrlPreviewData] = useState<IUrlPreviewBubble>();\n  const createdAt = useMemo(() => {\n    return message && dayjs(message.createdAt).format('HH:mm');\n  }, [message]);\n\n  const avatarSize = useMemo(() => {\n    return {\n      width: propsContext.bubbleProps?.showAvatars?.width || 40,\n      height: propsContext.bubbleProps?.showAvatars?.width || 40,\n      borderRadius: propsContext.bubbleProps?.showAvatars?.width || 40,\n    };\n  }, [propsContext.bubbleProps?.showAvatars?.width]);\n\n  const bubbleBackgroundColor = useMemo<ViewStyle>(() => {\n    if (propsContext.bubbleProps?.containerStyle) {\n      if (message?.me) {\n        return {\n          backgroundColor:\n            propsContext?.bubbleProps?.selfBubbleColor ?? '#afddfa',\n          ...propsContext.bubbleProps.containerStyle,\n        };\n      } else {\n        return {\n          backgroundColor:\n            propsContext?.bubbleProps?.otherBubbleColor ?? '#c8faaf',\n\n          ...propsContext.bubbleProps.containerStyle,\n        };\n      }\n    }\n\n    if (message?.me) {\n      return {\n        backgroundColor:\n          propsContext?.bubbleProps?.selfBubbleColor ?? '#afddfa',\n      };\n    }\n\n    return {\n      backgroundColor: propsContext?.bubbleProps?.otherBubbleColor ?? '#c8faaf',\n    };\n  }, [\n    message?.me,\n    propsContext?.bubbleProps?.otherBubbleColor,\n    propsContext?.bubbleProps?.selfBubbleColor,\n    propsContext.bubbleProps?.containerStyle,\n  ]);\n\n  const bubbleAlignment = useMemo<ViewStyle>(() => {\n    if (message?.me) {\n      return {\n        alignSelf: 'flex-end',\n      };\n    }\n\n    return {\n      alignSelf: 'flex-start',\n    };\n  }, [message?.me]);\n\n  useEffect(() => {\n    if (message?.media) {\n      message.media.forEach((media) => {\n        if (media.type === MediaType.Image) {\n          InteractionManager.runAfterInteractions(() => {\n            Image.prefetch(media.uri).then(() => {\n              setMediaLoaded(true);\n            });\n          });\n        }\n      });\n    }\n\n    if (propsContext.enableUrlPreviews) {\n      InteractionManager.runAfterInteractions(async () => {\n        const url = extractUrlFromString(message?.text ?? '');\n\n        if (url) {\n          const data = await fetchMetaData(url);\n\n          if (data) {\n            setShowUrlPreview(true);\n            setUrlPreviewData(data);\n          }\n        }\n      });\n    }\n  }, [message?.media, message?.text, propsContext.enableUrlPreviews]);\n\n  const onPressPattern = useCallback(\n    (pattern: string, index: number) => {\n      if (!message) return;\n      ChatEmitter?.emit('patternPressed', pattern, index, message);\n    },\n    [message]\n  );\n\n  const messagePatterns = useMemo(() => {\n    const patterns: any[] = [];\n\n    if (!propsContext?.enablePatterns) return;\n    if (!ParsedText) return;\n\n    LoadAllPaternShapes(onPressPattern);\n\n    if (propsContext.patternProps?.customPatterns) {\n      patterns.push(...propsContext.patternProps.customPatterns);\n    }\n\n    if (propsContext?.patternProps?.allowPatterns) {\n      propsContext.patternProps.allowPatterns.forEach((pattern) => {\n        switch (pattern) {\n          case 'hashtag':\n            patterns.push(HASHTAG_PATTERN_SHAPE);\n            break;\n          case 'mention':\n            patterns.push(MENTION_PATTERN_SHAPE);\n            break;\n          case 'url':\n            patterns.push(URL_PATTERN_SHAPE);\n            break;\n        }\n      });\n    } else {\n      ALL_PATERNS_SHAPES.forEach((pattern) => patterns.push(pattern));\n    }\n\n    return patterns;\n  }, [\n    onPressPattern,\n    propsContext?.enablePatterns,\n    propsContext?.patternProps?.allowPatterns,\n    propsContext?.patternProps?.customPatterns,\n  ]);\n\n  const renderTicks = useCallback(() => {\n    if (message?.status) {\n      switch (message.status) {\n        case MessageStatus.Sending:\n          return (\n            propsContext.bubbleProps?.tickProps?.sendingElement ?? (\n              <Text>ðŸ”„</Text>\n            )\n          );\n\n        case MessageStatus.Sent:\n          return (\n            propsContext.bubbleProps?.tickProps?.sentElement ?? <Text>âœ”</Text>\n          );\n\n        case MessageStatus.Delivered:\n          return (\n            propsContext.bubbleProps?.tickProps?.deliveredElement ?? (\n              <Text>â˜‘</Text>\n            )\n          );\n\n        case MessageStatus.Read:\n          return (\n            propsContext.bubbleProps?.tickProps?.readElement ?? <Text>âœ…</Text>\n          );\n      }\n    }\n\n    return null;\n  }, [\n    message?.status,\n    propsContext.bubbleProps?.tickProps?.deliveredElement,\n    propsContext.bubbleProps?.tickProps?.readElement,\n    propsContext.bubbleProps?.tickProps?.sendingElement,\n    propsContext.bubbleProps?.tickProps?.sentElement,\n  ]);\n\n  const renderFooter = useCallback(() => {\n    return (\n      <View style={styles.bubbleFooter}>\n        <Text\n          style={[\n            styles.date,\n            propsContext?.bubbleProps?.dateStyle &&\n              propsContext?.bubbleProps?.dateStyle!(message?.me ?? false),\n          ]}\n        >\n          {createdAt}\n        </Text>\n        {renderTicks()}\n      </View>\n    );\n  }, [\n    createdAt,\n    message?.me,\n    propsContext?.bubbleProps?.dateStyle,\n    renderTicks,\n  ]);\n\n  const renderCornerRounding = useCallback(() => {\n    if (propsContext.bubbleProps?.enableCornerRounding === false) return null;\n\n    if (message?.me) {\n      return (\n        <>\n          <View style={[styles.rightArrow, bubbleBackgroundColor]}></View>\n          <View\n            style={[\n              styles.rightArrowOverlap,\n              {\n                backgroundColor:\n                  propsContext.listProps?.containerStyle?.backgroundColor ??\n                  '#fff',\n              },\n            ]}\n          ></View>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <View style={[styles.leftArrow, bubbleBackgroundColor]}></View>\n          <View\n            style={[\n              styles.leftArrowOverlap,\n              {\n                backgroundColor:\n                  propsContext.listProps?.containerStyle?.backgroundColor ??\n                  '#fff',\n              },\n            ]}\n          ></View>\n        </>\n      );\n    }\n  }, [\n    bubbleBackgroundColor,\n    message?.me,\n    propsContext.bubbleProps?.enableCornerRounding,\n    propsContext.listProps?.containerStyle?.backgroundColor,\n  ]);\n\n  const renderMedia = useCallback(() => {\n    if (message?.media) {\n      return (\n        <View style={{ flexDirection: 'row', flexWrap: 'wrap' }}>\n          {message?.media.map((media, index) => {\n            if (index < 3) {\n              return (\n                <TouchableOpacity onPress={() => setShowMedia(true)}>\n                  {media.type === MediaType.Image && (\n                    <Skeleton show={!mediaLoaded}>\n                      <Image source={{ uri: media.uri }} style={styles.media} />\n                    </Skeleton>\n                  )}\n                </TouchableOpacity>\n              );\n            }\n\n            return null;\n          })}\n\n          {message.media.length > 3 && (\n            <TouchableOpacity onPress={() => setShowMedia(true)}>\n              <ImageBackground\n                style={styles.media}\n                source={{ uri: message.media[3]?.uri }}\n                imageStyle={{\n                  borderRadius: 15,\n                }}\n              >\n                <View style={styles.backgroundOverlay}>\n                  <Text\n                    style={{ color: '#fff', textAlign: 'center', fontSize: 20 }}\n                  >\n                    + {message.media.length - 3}\n                  </Text>\n                </View>\n              </ImageBackground>\n            </TouchableOpacity>\n          )}\n\n          {PhotoView && (\n            <PhotoView\n              images={message?.media}\n              imageIndex={0}\n              visible={showMedia}\n              onRequestClose={() => setShowMedia(false)}\n            />\n          )}\n        </View>\n      );\n    }\n\n    return null;\n  }, [mediaLoaded, message, showMedia]);\n\n  const renderUrlPreview = useMemo(() => {\n    if (showUrlPreview && urlPreviewData && !message?.repliedTo) {\n      return (\n        <View style={{ marginTop: 10 }}>\n          <UrlPreviewBubble\n            title={urlPreviewData.title}\n            description={urlPreviewData.description}\n            image={urlPreviewData.image}\n            url={urlPreviewData.url}\n          />\n        </View>\n      );\n    }\n\n    return null;\n  }, [message?.repliedTo, showUrlPreview, urlPreviewData]);\n\n  return (\n    <View style={[styles.wrapper, bubbleAlignment]}>\n      {propsContext.bubbleProps?.trailingAccessory && message?.me && (\n        <View>{propsContext.bubbleProps.trailingAccessory}</View>\n      )}\n\n      {propsContext.bubbleProps?.showAvatars?.visible && !message?.me && (\n        <Image\n          source={\n            message?.user.avatar ?? require('./assets/images/noavatar.png')\n          }\n          style={[styles.avatar, avatarSize]}\n        />\n      )}\n\n      <ContextMenuWrapper message={message as IMessage}>\n        <View\n          style={[\n            bubbleBackgroundColor,\n            styles.container,\n            propsContext.bubbleProps?.containerStyle,\n            { padding: message?.repliedTo ? 5 : 15 },\n          ]}\n        >\n          {children ? (\n            children\n          ) : (\n            <>\n              {message?.repliedTo && (\n                <ReplyingTo\n                  username={message?.repliedTo?.user.username}\n                  text={message?.repliedTo.text}\n                  messageId={message?.repliedTo.id}\n                />\n              )}\n\n              {propsContext?.enablePatterns && ParsedText ? (\n                <>\n                  {renderMedia()}\n\n                  <ParsedText\n                    parse={messagePatterns}\n                    style={\n                      propsContext?.bubbleProps?.labelStyle &&\n                      propsContext.bubbleProps?.labelStyle(message?.me ?? false)\n                    }\n                  >\n                    {message?.text}\n                  </ParsedText>\n                  {renderUrlPreview}\n                  {renderFooter()}\n                </>\n              ) : (\n                <View>\n                  {renderMedia()}\n\n                  <Text\n                    style={\n                      propsContext?.bubbleProps?.labelStyle &&\n                      propsContext.bubbleProps?.labelStyle(message?.me ?? false)\n                    }\n                  >\n                    {message?.text}\n                  </Text>\n                  {renderUrlPreview}\n                  {renderFooter()}\n                </View>\n              )}\n            </>\n          )}\n          {renderCornerRounding()}\n        </View>\n      </ContextMenuWrapper>\n\n      {propsContext.bubbleProps?.showAvatars?.visible && message?.me && (\n        <Image\n          source={\n            message?.user.avatar ?? require('./assets/images/noavatar.png')\n          }\n          style={[styles.avatarMe, avatarSize]}\n        />\n      )}\n\n      {propsContext.bubbleProps?.trailingAccessory && !message?.me && (\n        <View>{propsContext.bubbleProps.trailingAccessory}</View>\n      )}\n    </View>\n  );\n}\n\nexport const ChatBubble = React.memo(_ChatBubble);\n\nexport const styles = StyleSheet.create({\n  wrapper: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  container: {\n    margin: 20,\n    maxWidth: Dimensions.get('screen').width - 120,\n    borderRadius: 10,\n  },\n  rightArrow: {\n    position: 'absolute',\n    width: 20,\n    height: 25,\n    bottom: 0,\n    borderBottomLeftRadius: 25,\n    right: -7,\n  },\n  rightArrowOverlap: {\n    position: 'absolute',\n    width: 20,\n    height: 35,\n    bottom: -6,\n    borderBottomLeftRadius: 18,\n    right: -20,\n  },\n  leftArrow: {\n    position: 'absolute',\n    width: 20,\n    height: 25,\n    bottom: 0,\n    borderBottomRightRadius: 25,\n    left: -10,\n  },\n\n  leftArrowOverlap: {\n    position: 'absolute',\n    width: 20,\n    height: 35,\n    bottom: -6,\n    borderBottomRightRadius: 18,\n    left: -20,\n  },\n  date: {\n    color: '#a8a8a8',\n    fontSize: 11,\n  },\n  avatar: {\n    marginLeft: 10,\n  },\n  avatarMe: {\n    marginRight: 10,\n  },\n  bubbleFooter: {\n    justifyContent: 'flex-end',\n    flexDirection: 'row',\n    marginTop: 5,\n  },\n  moreMedia: {\n    width: 100,\n    height: 100,\n    borderWidth: 1,\n    borderStyle: 'dashed',\n    borderRadius: 15,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderColor: '#ccc',\n  },\n  media: {\n    width: 110,\n    height: 100,\n    borderRadius: 15,\n    marginRight: 10,\n    marginBottom: 10,\n  },\n  backgroundOverlay: {\n    width: 110,\n    height: 100,\n    backgroundColor: 'rgba(0,0,0,0.6)',\n    borderRadius: 15,\n    justifyContent: 'center',\n    alignContent: 'center',\n    alignItems: 'center',\n  },\n});\n"]}